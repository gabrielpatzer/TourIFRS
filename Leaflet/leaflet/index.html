<!DOCTYPE html>
<html style = "height: 100%; margin: 0;">
  
    <head>
    <title>TourIFRS</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.7.1/dist/leaflet.css" />
    <script src="https://unpkg.com/leaflet@1.7.1/dist/leaflet.js"></script>
    
    <style>
        body {
            padding: 0;
            margin: 0;
        }
        html, body, #map {
            height: 100%;
            position: absolute; top: 0; bottom: 0; left: 0; right: 0;
        }
        .leaflet-tile,
        .leaflet-marker-icon,
        .leaflet-marker-shadow {
            width: 5px;
            height: 8px;
        }
    </style>
      
    </head>
    
  <body style = "height: 100%; margin: 0;">
    <div id="map" style="height:100%; width: 100%; background: FFFFFF"></div>
   
    <script type="text/javascript">
        
        var mapSW = [0, 4096],
            mapNE = [4096, 0];
        
        var map = L.map('map').setView([0,0],1);
        
        L.tileLayer('imagens/{z}/{x}/{y}.png', {
        minZoom: 0,
        maxZoom: 4,
        continuousWorld: false,
        noWrap: true,
        crs: L.CRS.Simple,
        }).addTo(map);
        
        map.setMaxBounds(new L.LatLngBounds(
           map.unproject(mapSW, map.getMaxZoom()), map.unproject(mapNE, map.getMaxZoom()) 
        ));
        
        var marcador = L.icon ({
            iconURL: 'images/marker-icon-2x.png',
            iconSize: [20, 30],
            iconAnchor: [22, 98],
            popupAnchor: [0, 100]
});
            
            
        
        
        //Marcador usado para pegar posição em Pixels
        var ref = L.marker([0,0], {
            draggable: true,
        }).addTo(map);
        ref.bindPopup('');
                
        ref.on ('dragend', function (e) {
           ref.getPopup().setContent('Clicked' + ref.getLatLng().toString()+'br/>'+ 'Pixels' + map.project(ref.getLatLng(), map.getMaxZoom().toString())) .openOn(map); 
        });
        
        
        //Marcadores usados para mostrar setores no mapa
        var hudsh = L.marker(map.unproject([1152, 2904], map.getMaxZoom(),{icon:marcador})).addTo(map);
        hudsh.bindPopup('Administração').openPopup();
        
        var central = L.marker(map.unproject([2568, 3004], map.getMaxZoom(),{icon:marcador})).addTo(map);
        central.bindPopup('Prédio Central').openPopup();
        
        var ti = 
        L.marker(map.unproject([2752, 2852], map.getMaxZoom(),{icon:marcador})).addTo(map);
        ti.bindPopup('Tecnologia da Informação').openPopup(); 
      
        var portico = L.marker(map.unproject([2498, 3263], map.getMaxZoom(),{icon:marcador})).addTo(map);
        portico.bindPopup('Pórtico').openPopup(); 
      
    </script>
  </body>
    
</html>